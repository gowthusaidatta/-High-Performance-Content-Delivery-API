# ============================================================================
# HIGH-PERFORMANCE CONTENT DELIVERY API - ENVIRONMENT CONFIGURATION
# ============================================================================
# Copy this file to .env and adjust values for your environment
# NEVER commit .env to version control!

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# PostgreSQL connection string for production
# Format: postgresql://user:password@host:port/database
# Default supports Docker Compose setup
DATABASE_URL=postgresql://user:password@localhost:5432/content_delivery

# ============================================================================
# OBJECT STORAGE CONFIGURATION
# ============================================================================
# MinIO endpoint (local development)
# For AWS S3: https://s3.amazonaws.com
# For Google Cloud Storage: https://storage.googleapis.com
S3_ENDPOINT=http://localhost:9000

# Object storage credentials
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin

# S3 bucket name (will be created if it doesn't exist)
S3_BUCKET=content-delivery

# AWS/S3 region
S3_REGION=us-east-1

# Enable SSL/TLS for storage connection
# Set to 'true' for production with HTTPS endpoints
S3_USE_SSL=false

# ============================================================================
# CDN CONFIGURATION
# ============================================================================
# Local CDN endpoint (your API server)
# Update this to your actual CDN or API domain in production
CDN_ENDPOINT=http://localhost:8000

# Cloudflare API configuration (optional)
# Get API key from: https://dash.cloudflare.com/profile/api-tokens
CLOUDFLARE_API_KEY=

# Cloudflare Zone ID for your domain
CLOUDFLARE_ZONE_ID=

# Enable CDN cache purging
# Set to 'true' only when Cloudflare credentials are configured
CDN_PURGE_ENABLED=false

# ============================================================================
# SECURITY CONFIGURATION
# ============================================================================
# Secret key for signing access tokens and HMAC operations
# MUST be changed in production - use a cryptographically secure random value
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-secret-key-change-in-production

# Access token expiry time in seconds
# Default: 3600 seconds (1 hour)
TOKEN_EXPIRY_SECONDS=3600

# ============================================================================
# CDN ORIGIN SHIELDING
# ============================================================================
# Comma-separated list of allowed CDN IP addresses
# Only these IPs can access the origin server directly
# Leave empty to allow all (development only)
# Format: "192.0.2.1,192.0.2.2,10.0.0.0/8"
ALLOWED_CDN_IPS=

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================
# Server host address
# 0.0.0.0 = all interfaces (Docker)
# 127.0.0.1 = localhost only
HOST=0.0.0.0

# Server port
PORT=8000

# Debug mode
# Set to 'true' for development only - NEVER in production
# Enables hot-reload, verbose logging, and detailed error messages
DEBUG=true

# ============================================================================
# LOGGING CONFIGURATION (Optional)
# ============================================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# ============================================================================
# PERFORMANCE CONFIGURATION (Optional)
# ============================================================================
# Maximum file upload size in MB
# Default: 100 MB
MAX_UPLOAD_SIZE_MB=100

# Number of worker threads for async operations
# Default: CPU count
WORKER_THREADS=

# ============================================================================

